<div class="main-layout">

  <app-left-menu></app-left-menu>

  <div class="content">
    <!-- <div class="header-image"  > </div> -->
    <!-- <div class="page-header">
      <h1>Freight Analysis Framework</h1>
    </div> -->

    <div class="tabs">
      <button class="tab-button" [class.active]="selectedTab === 1" (click)="selectTab(1)">
        Domestic Export
      </button>
      <button class="tab-button" [class.active]="selectedTab === 2" (click)="selectTab(2)">
        Domestic Import
      </button>
      <button class="tab-button" [class.active]="selectedTab === 3" (click)="selectTab(3)">
        Import & Export
      </button>
    </div>


    <div *ngIf="selectedTab === 1">
      <!-- <h2>Custom Selection of Domestic Export</h2> -->

      <div class="transport-container">
        <!-- Truck -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('truck')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.truck)"></div>
              <span class="icon">üöö</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'truck'">
                {{ progressValues.truck }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Truck</div>
              <div class="label">6.5M Tones</div>
            </div>
          </div>
        </div>


        <!-- Air -->
        <!-- Air -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('air')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.air)"></div>
              <span class="icon">‚úàÔ∏è</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'air'">
                {{ progressValues.air }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Air</div>
              <div class="label">234.5M Tones</div>
            </div>
          </div>
        </div>

        <!-- Water -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('water')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.water)"></div>
              <span class="icon">üö¢</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'water'">
                {{ progressValues.water }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Water</div>
              <div class="label">789.2M Tones</div>
            </div>
          </div>
        </div>

        <!-- Rail -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('rail')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.rail)"></div>
              <span class="icon">üöÜ</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'rail'">
                {{ progressValues.rail }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Rail</div>
              <div class="label">965.3M Tones</div>
            </div>
          </div>
        </div>


        <!-- Multiple Modes & Mail -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('multipleModes')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.multipleModes)"></div>
              <span class="icon">üöö‚úàÔ∏èüì¶</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'multipleModes'">
                {{ progressValues.multipleModes }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Multiple Modes & Mail</div>
              <div class="label">12.65M Tones</div>
            </div>
          </div>
        </div>

        <!-- Other and Unknown -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('otherUnknown')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.otherUnknown)"></div>
              <span class="icon">‚ãØ</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'otherUnknown'">
                {{ progressValues.otherUnknown }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Other and Unknown</div>
              <div class="label">765.1M Tones</div>
            </div>
          </div>
        </div>

      </div>



      <div class="form-container">
        <!-- Flow Type Dropdown -->
        <h3>Custom Selection of Domestic Export</h3>
        <div class="form-row ">
          <!-- <div class="form-group col">
            <label for="flowType">Flow Type</label>
            <select id="flowType" class="form-control" [(ngModel)]="selectedFlowType" (change)="updateChartData()">
              <option *ngFor="let flow of flowTypes" [value]="flow">{{ flow }}</option>
            </select>
          </div> -->
          <div class="form-group col">
            <label for="domesticMode">Domestic Mode</label>
            <select id="domesticMode" class="form-control" [(ngModel)]="selectedDomesticMode">
              <option *ngFor="let domesticMode of domesticMode" [value]="domesticMode">{{ domesticMode }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="commodity">Commodity</label>
            <select id="commodity" class="form-control" [(ngModel)]="selectedCommodity">
              <option *ngFor="let commodity of commodity" [value]="commodity">{{ commodity }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col">
            <label for="startYear">Start Year</label>
            <select id="startYear" class="form-control" [(ngModel)]="startYear">
              <option *ngFor="let startYear of years" [value]="startYear">{{ startYear }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="endYear">End Year</label>
            <select id="endYear" class="form-control" [(ngModel)]="endYear">
              <option *ngFor="let endYear of years" [value]="endYear">{{ endYear }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col">
            <label for="domesticOrigin">Domestic Origin</label>
            <select id="domesticOrigin" class="form-control" [(ngModel)]="selectedDomesticOrigin">
              <option *ngFor="let origin of domesticOrigins" [value]="origin">{{ origin }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="domesticDestination">Domestic Destination</label>
            <select id="domesticDestination" class="form-control" [(ngModel)]="selectedDomesticDestination">
              <option *ngFor="let destination of domesticDestinations" [value]="destination">{{ destination }}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="home-container">
        <button class="run-button" (click)="onRun()">
          {{ isRunClicked ? 'Download CSV' : 'Run' }}
        </button>
      </div>
      <!-- <canvas #chartCanvas class="chart"></canvas> -->
      <div class="chart-container" style="height: 350px;">
        <canvas #chartCanvas></canvas>
      </div>

    </div>

    <div *ngIf="selectedTab === 2">
      <div class="transport-container">
        <!-- Truck -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('truck')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.truck)"></div>
              <span class="icon">üöö</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'truck'">
                {{ progressValues.truck }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Truck</div>
              <div class="label">6.5M Tones</div>
            </div>
          </div>
        </div>


        <!-- Air -->
        <!-- Air -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('air')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.air)"></div>
              <span class="icon">‚úàÔ∏è</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'air'">
                {{ progressValues.air }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Air</div>
              <div class="label">234.5M Tones</div>
            </div>
          </div>
        </div>

        <!-- Water -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('water')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.water)"></div>
              <span class="icon">üö¢</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'water'">
                {{ progressValues.water }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Water</div>
              <div class="label">789.2M Tones</div>
            </div>
          </div>
        </div>

        <!-- Rail -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('rail')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.rail)"></div>
              <span class="icon">üöÜ</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'rail'">
                {{ progressValues.rail }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Rail</div>
              <div class="label">965.3M Tones</div>
            </div>
          </div>
        </div>


        <!-- Multiple Modes & Mail -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('multipleModes')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.multipleModes)"></div>
              <span class="icon">üöö‚úàÔ∏èüì¶</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'multipleModes'">
                {{ progressValues.multipleModes }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Multiple Modes & Mail</div>
              <div class="label">12.65M Tones</div>
            </div>
          </div>
        </div>

        <!-- Other and Unknown -->
        <div class="transport-item">
          <div class="progress-container" (mouseenter)="onHover('otherUnknown')" (mouseleave)="onLeave()">
            <div class="progress-circle">
              <div class="progress-bar" [style.background]="getProgressBarStyle(progressValues.otherUnknown)"></div>
              <span class="icon">‚ãØ</span>

              <!-- Tooltip for percentage -->
              <div class="tooltip" *ngIf="hovering === 'otherUnknown'">
                {{ progressValues.otherUnknown }}%
              </div>
            </div>

            <!-- The labels that will be visible always -->
            <div class="label-container">
              <div class="label">Other and Unknown</div>
              <div class="label">765.1M Tones</div>
            </div>
          </div>
        </div>

      </div>



      <div class="form-container">
        <!-- Flow Type Dropdown -->
        <h3>Custom Selection of Domestic Import</h3>
        <div class="form-row ">
          <div class="form-group col">
            <label for="flowType">Flow Type</label>
            <select id="flowType" class="form-control" [(ngModel)]="selectedFlowType" (change)="updateChartData()">
              <option *ngFor="let flow of flowTypes" [value]="flow">{{ flow }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="domesticOrigin">Domestic Mode</label>
            <select id="domesticOrigin" class="form-control" [(ngModel)]="selectedDomesticOrigin">
              <option *ngFor="let origin of domesticOrigins" [value]="origin">{{ origin }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="domesticOrigin">Commodity</label>
            <select id="domesticOrigin" class="form-control" [(ngModel)]="selectedDomesticOrigin">
              <option *ngFor="let origin of domesticOrigins" [value]="origin">{{ origin }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col">
            <label for="startYear">Start Year</label>
            <select id="startYear" class="form-control" [(ngModel)]="startYear">
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="endYear">End Year</label>
            <select id="endYear" class="form-control" [(ngModel)]="endYear">
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col">
            <label for="domesticDestination">Domestic Origin</label>
            <select id="domesticDestination" class="form-control" [(ngModel)]="selectedDomesticDestination">
              <option *ngFor="let destination of domesticDestinations" [value]="destination">{{ destination }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="foreignDestination">Domestic Destination</label>
            <select id="foreignDestination" class="form-control" [(ngModel)]="selectedForeignDestination">
              <option *ngFor="let destination of foreignDestinations" [value]="destination">{{ destination }}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="home-container">
        <button class="run-button" (click)="onRun()">
          {{ isRunClicked ? 'Download CSV' : 'Download' }}
        </button>
      </div>
      <!-- <canvas #chartCanvas class="chart"></canvas> -->
      <div class="chart-container" style="height: 350px;">
        <canvas #chartCanvas></canvas>
      </div>




    </div>

    <div *ngIf="selectedTab === 3">
      <!-- <h2> Import & Export </h2> -->
      <div class="form-container">
        <!-- Flow Type Dropdown -->
        <h3>Custom Selection of Import & Export</h3>
        <div class="form-row ">
          <div class="form-group col">
            <label for="flowType">Origin</label>
            <select id="flowType" class="form-control" [(ngModel)]="selectedFlowType" (change)="updateChartData()">
              <option *ngFor="let flow of flowTypes" [value]="flow">{{ flow }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="domesticOrigin">Option</label>
            <select id="domesticOrigin" class="form-control" [(ngModel)]="selectedDomesticOrigin">
              <option *ngFor="let origin of domesticOrigins" [value]="origin">{{ origin }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="domesticOrigin">Commodity</label>
            <select id="domesticOrigin" class="form-control" [(ngModel)]="selectedDomesticOrigin">
              <option *ngFor="let origin of domesticOrigins" [value]="origin">{{ origin }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col">
            <label for="startYear">Start Year</label>
            <select id="startYear" class="form-control" [(ngModel)]="startYear">
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="endYear">End Year</label>
            <select id="endYear" class="form-control" [(ngModel)]="endYear">
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
        </div>
        <!-- <div class="form-row">
          <div class="form-group col">
            <label for="domesticDestination">Domestic Origin</label>
            <select id="domesticDestination" class="form-control" [(ngModel)]="selectedDomesticDestination">
              <option *ngFor="let destination of domesticDestinations" [value]="destination">{{ destination }}</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="foreignDestination">Domestic Destination</label>
            <select id="foreignDestination" class="form-control" [(ngModel)]="selectedForeignDestination">
              <option *ngFor="let destination of foreignDestinations" [value]="destination">{{ destination }}</option>
            </select>
          </div>
        </div> -->
      </div>

      <!-- <canvas #chartCanvas class="chart"></canvas> -->

      <div class="home-container">
        <button class="run-button" (click)="onRun()">Run</button>
      </div>

      <!-- Pie Chart for Import and Export Data -->
<div class="chart-container">
  <canvas #pieChartCanvas></canvas>
</div>


    </div>
  </div>
</div>







<!-- Chart Canvas -->